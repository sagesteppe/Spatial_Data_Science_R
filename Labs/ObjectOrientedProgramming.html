<!DOCTYPE html>
<html lang="en"><head>
<script src="ObjectOrientedProgramming_files/libs/clipboard/clipboard.min.js"></script>
<script src="ObjectOrientedProgramming_files/libs/quarto-html/tabby.min.js"></script>
<script src="ObjectOrientedProgramming_files/libs/quarto-html/popper.min.js"></script>
<script src="ObjectOrientedProgramming_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="ObjectOrientedProgramming_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ObjectOrientedProgramming_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="ObjectOrientedProgramming_files/libs/quarto-html/quarto-syntax-highlighting-dark-474c6d7e63be50eb6972897072b39b27.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.36">

  <meta name="author" content="Reed Benkendorf">
  <meta name="dcterms.date" content="2022-02-06">
  <title>Objected Oriented Programming</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="ObjectOrientedProgramming_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="ObjectOrientedProgramming_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="ObjectOrientedProgramming_files/libs/revealjs/dist/theme/quarto-5b48f34d633aed70c74c672477009ffc.css">
  <link rel="stylesheet" href="custom.css">
  <link href="ObjectOrientedProgramming_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="ObjectOrientedProgramming_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <style>
  #title-slide .title {
    font-size: 1.5em;
  }
  #image tags .center {
    text-align: center;
    font-size: 4em;
    font-color: cbc4c3;
  }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Objected Oriented Programming</h1>
  <p class="subtitle">R for Data Science</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Reed Benkendorf 
</div>
</div>
</div>

  <p class="date">February 6, 2022</p>
</section>
<section class="slide level2">

<p>Assigned Reading: Advanced R chapters 12 - 16</p>
</section>
<section id="object-orientated-programming-in-r" class="title-slide slide level1 center">
<h1>Object Orientated Programming in R</h1>
<blockquote>
<p>“Object-oriented programming (OOP) is a programming paradigm based on the concept of”objects”, which can contain data and code: data in the form of fields (often known as attributes or properties), and code, in the form of procedures (often known as methods).” - Wikipedia</p>
</blockquote>
<aside class="notes">
<p>To date we have limited our focus to functional programming.</p>
<p>R uses upwards of 25 types of objects. Many of these are highly specialized and we will not go into them, however it is necessary to elaborate on some of the differences between them. To date we have largely been using what may be called ‘base’ objects, i.e.&nbsp;objects which lack a ‘class’. A class contains attributes which define certain parameters of the object, note that each attribute is based off of a ‘base’ object at some point.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section>
<section id="base-objects-reviewed" class="title-slide slide level1 center">
<h1>Base Objects Reviewed</h1>
<p>Some of the most common base objects are vectors, matrices, and lists.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a>char_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Apple'</span>, <span class="st">'Orange'</span>, <span class="st">'Banana'</span>)</span>
<span id="cb1-2"><a href=""></a>num_v <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb1-3"><a href=""></a>raster_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">size =</span> <span class="dv">9</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>), <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb1-4"><a href=""></a></span>
<span id="cb1-5"><a href=""></a>raster_pieces_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href=""></a>  <span class="at">Vector =</span> char_v, </span>
<span id="cb1-7"><a href=""></a>  <span class="at">Matrix =</span> raster_matrix, </span>
<span id="cb1-8"><a href=""></a>  <span class="at">Dataframe =</span> <span class="fu">setNames</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="fu">data.frame</span>(raster_matrix))</span>
<span id="cb1-9"><a href=""></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="base-objects---character-vectors" class="slide level2">
<h2>Base Objects - Character Vectors</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a>char_v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Apple"  "Orange" "Banana"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="fu">otype</span>(char_v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "base"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="fu">s3_class</span>(char_v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
<section id="base-objects---numeric-vectors" class="slide level2">
<h2>Base Objects - Numeric Vectors</h2>
<p>Looking at our character vector we see that the output of <code>sloop:otype</code> (objectype) we see that this is a ‘base object’.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>num_v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="fu">otype</span>(num_v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "base"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">s3_class</span>(num_v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer" "numeric"</code></pre>
</div>
</div>
<p>Looking at our numeric vector we see that this object inherits both an integer and numeric type.</p>
</section>
<section id="base-objects---matrix" class="slide level2">
<h2>Base Objects - Matrix</h2>
<p>We can essentially think of a matrix as being 3 vectors bound side by side, and entered by either the rows or columns.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>raster_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    0    1
[2,]    0    0    1
[3,]    0    1    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">otype</span>(raster_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "base"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="fu">s3_class</span>(raster_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix"  "integer" "numeric"</code></pre>
</div>
</div>
<p>The matrix inherits multiple base classes, it is both a double and numeric. R has integers, doubles, and numeric types defined by is relatively loose with applying them.</p>
</section>
<section id="base-objects---list" class="slide level2">
<h2>Base Objects - List</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="fu">s3_class</span>(raster_pieces_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">otype</span>(raster_pieces_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "base"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">rm</span>(raster_pieces_list, rast_vals_char, raster_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These base objects are more of less capable of just <em>storing</em> values. I.e. In a sense we can put whatever we want into a vector and it will work out - if we have mixed data types they will be coerced to characters, <em>but</em> we can do it.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section></section>
<section>
<section id="intro-to-s3-objects" class="title-slide slide level1 center">
<h1>Intro to S3 Objects</h1>
<p>Let’s take a look at our vector of <code>POSIXct</code> time zones, which to me (a human) look like numbers separated by dashes.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a>dates_of_imaging[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2021-12-05"</code></pre>
</div>
</div>
<p>However, it isn’t a character vector (which we would expect because of the dashes), nor a numeric vector.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="fu">is.character</span>(dates_of_imaging[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="fu">is.numeric</span>(dates_of_imaging[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="posixct" class="slide level2">
<h2>POSIXct</h2>
<p>So what is a <code>POSIXct</code> then?</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="fu">attributes</span>(dates_of_imaging)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$tzone
[1] "US/Pacific-New"

$class
[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
<ul>
<li>an object with multiple attributes</li>
<li>one defines the time zone the data are stored as</li>
<li>the other defines a class</li>
</ul>
<aside class="notes">
<p>We see that two attributes are stored in that object. The first is the timezone, which is defined elsewhere in R (and I believe is inherited by R from other systems), but is notated within this object. Critically, We also have the formal ‘class’ definition of a POSIXct format.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="posixct-1" class="slide level2">
<h2>POSIXct</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>The amount of seconds between 1970 and 2021-12-05 is: 1638662400</code></pre>
</div>
</div>
<ul>
<li>the values in a POSIXct are integers<br>
</li>
<li>but the objects convert them to a human readable date for viewing</li>
</ul>
<aside class="notes">
<p>POSIXct dates are all actually treated in R as the amount of seconds between an arbitrary date e.g.&nbsp;January 1st 1970, and the date of observation; so R is really keeping dates in a numeric format - but is hiding this from us! And converting the values into a more human friendly format more or less for display purposes only.</p>
<p>This is a new level of functionality that we have not directly considered yet this quarter. As mentioned we have used objects much like book pages. Now we see that certain objects, are able to refer to themselves to perform, for example, calculations and conversions.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="posixct-is-an-s3-object" class="slide level2">
<h2>POSIXct is an S3 object</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="fu">as.numeric</span>(dates_of_imaging[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1638662400</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="fu">otype</span>(dates_of_imaging)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S3"</code></pre>
</div>
</div>
<ul>
<li>We know that at it’s core our object contains the seconds between the event and 1970</li>
<li>It has multiple attributes</li>
<li>And it can perform calculations on itself</li>
</ul>
<aside class="notes">
<p>Objects with the capability to store values in fields, and perform procedures upon themselves form the basis of Object Orientated Programming. In R we have two main OOP classes, S3 and S4. In general objects of both of these classes are <em>‘large’</em>, however this is not always the case.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="units-objects" class="title-slide slide level1 center">
<h1>Units objects</h1>
<p>Another S3 object which looks like a vector is an <code>units</code> object.</p>
<p>When we define a units object, we can simply supply a number for value, and a unit of measurement.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a>dstnce <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">1.42</span>, meter)</span>
<span id="cb39-2"><a href=""></a><span class="fu">print</span>(dstnce)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1.42 [m]</code></pre>
</div>
</div>
<p>These objects can also perform procedures on themselves, such as converting between meters and yards.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a><span class="fu">units</span>(dstnce) <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">make_units</span>(yards) </span>
<span id="cb41-2"><a href=""></a><span class="fu">print</span>(dstnce)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1.552931 [yards]</code></pre>
</div>
</div>
</section>
<section id="units-objects-i" class="slide level2">
<h2>Units objects I</h2>
<p>Let’s take a look at the object type and it’s class.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a><span class="fu">otype</span>(dstnce)</span>
<span id="cb43-2"><a href=""></a><span class="fu">s3_class</span>(dstnce)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>A Units is an object of type: S3</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>It is its own units class: units</code></pre>
</div>
</div>
</section>
<section id="doing-more-with-units" class="slide level2">
<h2>Doing more with Units</h2>
<p>We can take a look at the attributes of a units object.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href=""></a><span class="fu">attributes</span>(dstnce)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$units
$numerator
[1] "yards"

$denominator
character(0)

attr(,"class")
[1] "symbolic_units"

$class
[1] "units"</code></pre>
</div>
</div>
<p>our ‘denominator’ slot is unused, let’s populate it</p>
</div><div class="column" style="width:50%;">
<p>let’s establish our distance as a speed</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a>speed <span class="ot">&lt;-</span> units<span class="sc">::</span><span class="fu">set_units</span>(<span class="fl">1.42</span>, m<span class="sc">/</span>s)</span>
<span id="cb48-2"><a href=""></a><span class="fu">attributes</span>(speed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$units
$numerator
[1] "m"

$denominator
[1] "s"

attr(,"class")
[1] "symbolic_units"

$class
[1] "units"</code></pre>
</div>
</div>
</div></div>
</section>
<section id="data-frame" class="slide level2">
<h2>Data frame</h2>
<p>A shocking S3 object is the data frame it has a defined class</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a><span class="fu">otype</span>(raster_dataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S3"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a><span class="fu">attributes</span>(raster_dataframe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$names
 [1] "f" "a" "j" "i" "h" "k" "b" "e" "g" "d"

$row.names
 [1] "V" "Y" "X" "S" "W" "O" "Z" "P" "T" "N"

$class
[1] "data.frame"</code></pre>
</div>
</div>
<aside class="notes">
<p>We see that of the non-base objects, the most common object is S3. Actually, surprise surprise the amazing data frame has been hiding out as an S3 object this whole time! You may have actually seen an error message indicating this at some point… So if we look at the attributes of a data frame we see that we have both row and columns names, and we also have a formal definition of the class being a data frame, which in part consists of code demanding that our data frame be rectangular in nature.</p>
<p>Finally we turn our attention to one slightly more complex S3 object.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="simple-features" class="title-slide slide level1 center">
<h1>Simple Features</h1>
<ul>
<li>are data frames so have to be S3…</li>
<li>use a complex S3 list-column to store the geometry features</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>A simple feature is an object of type: S3</code></pre>
</div>
</div>
<p>What is really neat about tibbles is that while they just look like a data frame they are capable of holding a list in a column, hence a ‘list column’.</p>
<aside class="notes">
<p>The incredibly popular Simple Features ‘sf’ package actually stores all it’s features in S3 object. Given that a data frame is an S3 object, this is a necessity - but there are some big jumps under the hood. I bet, even more so than these objects being ‘accessible’ via tidyverse syntax the simplicity of the S3 object compared to S4 sp objects is what spurred there popularity</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="list-columns" class="slide level2">
<h2>list columns</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p><font size="5"></font></p><font size="5">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(iris))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Sepal.Length</th>
<th style="text-align: right;">Sepal.Width</th>
<th style="text-align: right;">Petal.Length</th>
<th style="text-align: right;">Petal.Width</th>
<th style="text-align: left;">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: left;">setosa</td>
</tr>
<tr class="even">
<td style="text-align: right;">4.9</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: left;">setosa</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4.7</td>
<td style="text-align: right;">3.2</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: left;">setosa</td>
</tr>
<tr class="even">
<td style="text-align: right;">4.6</td>
<td style="text-align: right;">3.1</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: left;">setosa</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">3.6</td>
<td style="text-align: right;">1.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: left;">setosa</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">3.9</td>
<td style="text-align: right;">1.7</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: left;">setosa</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Create a list col of the Iris measurements by species and flower part.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href=""></a>iris <span class="ot">&lt;-</span> <span class="fu">nest</span>(iris, <span class="at">petal =</span> <span class="fu">starts_with</span>(<span class="st">"Petal"</span>), </span>
<span id="cb56-2"><a href=""></a>       <span class="at">sepal =</span> <span class="fu">starts_with</span>(<span class="st">"Sepal"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</font><p><font size="5"></font></p>
</div><div class="column" style="width:50%;">
<p><font size="5"></font></p><font size="5">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href=""></a><span class="fu">head</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  Species    petal             sepal            
  &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;           
1 setosa     &lt;tibble [50 × 2]&gt; &lt;tibble [50 × 2]&gt;
2 versicolor &lt;tibble [50 × 2]&gt; &lt;tibble [50 × 2]&gt;
3 virginica  &lt;tibble [50 × 2]&gt; &lt;tibble [50 × 2]&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href=""></a><span class="fu">head</span>(iris[[<span class="dv">2</span>]][[<span class="dv">1</span>]]) <span class="co"># see 1st row 2nd column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  Petal.Length Petal.Width
         &lt;dbl&gt;       &lt;dbl&gt;
1          1.4         0.2
2          1.4         0.2
3          1.3         0.2
4          1.5         0.2
5          1.4         0.2
6          1.7         0.4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href=""></a><span class="fu">str</span>(iris<span class="sc">$</span>petal[[<span class="dv">1</span>]]) <span class="co"># structure of 1st row of petal column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [50 × 2] (S3: tbl_df/tbl/data.frame)
 $ Petal.Length: num [1:50] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
 $ Petal.Width : num [1:50] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</code></pre>
</div>
</div>
</font><p><font size="5"></font></p>
</div></div>
<aside class="notes">
<p>If we take a close look at the first for of the second column, that for <em>I. setosa</em>, we see all of the short and narrow petal measurements we are familiar with for this species.</p>
<p>In this example we see that each element in ‘petal’ contains a list of its own, each of which has a data frame with a column storing <em>both</em> the Petal Length and Petal Width values. Each row of each list column (petal &amp; sepal) we see in this tibble is like this.</p>
<p>So what the developers of sf did is to create an S3 object which can hold all of the spatial information in a list column - without you really realizing this information is there.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sf-object" class="slide level2">
<h2>sf object</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href=""></a><span class="fu">s3_class</span>(dec_lakes_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href=""></a><span class="fu">head</span>(dec_lakes_sf[,<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">6</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font size="4"></font></p><font size="4">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 6 features and 2 fields
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: -120.6635 ymin: 39.64317 xmax: -119.4015 ymax: 40.21617
Geodetic CRS:  WGS 84
Precision:     50 
# A tibble: 6 × 3
  Water          Data_source                                            geometry
  &lt;chr&gt;          &lt;chr&gt;                                             &lt;POLYGON [°]&gt;
1 Pyramid_Lake   Sentinel2   ((-119.599 40.21368, -119.5925 40.20994, -119.5516…
2 Davis_Lake     Sentinel2   ((-120.5374 39.9152, -120.5238 39.92064, -120.5309…
3 Frenchman_Lake Sentinel2   ((-120.2149 39.936, -120.2095 39.93905, -120.2066 …
4 Silver_Lake    Sentinel2   ((-119.9159 39.65733, -119.9019 39.65779, -119.901…
5 Swan_lake      Sentinel2   ((-119.8356 39.68163, -119.8194 39.6741, -119.8158…
6 Gold_Lake      Sentinel2   ((-120.6635 39.66946, -120.6421 39.68097, -120.633…</code></pre>
</div>
</div>
</font><p><font size="4"></font></p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href=""></a><span class="fu">attributes</span>(dec_lakes_sf<span class="sc">$</span>geometry)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font size="4"></font></p><font size="4">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>$n_empty
[1] 0

$crs
Coordinate Reference System:
  User input: WGS 84 
  wkt:
GEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
        ELLIPSOID["WGS 84",6378137,298.257223563,
            LENGTHUNIT["metre",1]]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS["latitude",north,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433]],
        AXIS["longitude",east,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433]],
    ID["EPSG",4326]]

$class
[1] "sfc_POLYGON" "sfc"        

$precision
[1] 50

$bbox
      xmin       ymin       xmax       ymax 
-120.66350   39.64317 -119.40150   40.57838 </code></pre>
</div>
</div>
</font><p><font size="4"></font></p>
</div></div>
<aside class="notes">
<p>This output is understandably a little much, but these are <em>all</em> of the attributes of a Simple Feature Collection which is hidden in the geometry column of a simple feature. Clever right?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="s4-objects" class="title-slide slide level1 center">
<h1>S4 Objects</h1>
<p>While S3 objects are lax, S4 objects have more rigor for acceptable values</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href=""></a><span class="fu">otype</span>(dec_lakes_sp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S4"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href=""></a><span class="fu">s3_class</span>(dec_lakes_sp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SpatialPolygonsDataFrame"
attr(,"package")
[1] "sp"</code></pre>
</div>
</div>
<p>Slots can be accessed a couple ways, with the 1<sup>st</sup> being preferred</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href=""></a><span class="fu">slot</span>(dec_lakes_sp, <span class="st">'polygons'</span>)</span>
<span id="cb73-2"><a href=""></a>dec_lakes_sp<span class="sc">@</span>polygons</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>Examples of S4 objects include the lovely Raster, and Spatial*(e.g.&nbsp;Points, Polygons, Dataframes…) objects. I find that lists, and S4 objects terrify virtually all of our students each year. Myself included, and in fact I am still slightly spooked by them. While I cannot teach you all how exactly to deal with them, I can teach you all of use them day to day.</p>
<p>S4 objects are not lax, they are the stricter implementation of S3 objects. The classes which compose S4 objects are incredibly well defined, and they are designed for very specific use cases. This may at times make them obnoxious to work with, when you need to build or modify values in them, but thye are worth the pain.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="spatial-objects" class="slide level2">
<h2>Spatial* Objects</h2>
<p>Just like S3 objects, S4 objects classes follow certain schema. We’ll use a <code>SpatialPolygonsDataFrame</code> as our example here.</p>
</section>
<section id="slots" class="slide level2">
<h2>Slots</h2>
<ul>
<li>Contain different forms of data, especially of unequal length and hence do not fit into a data frame<br>
</li>
<li>S4 objects can be stored in S3, base, or other objects!</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href=""></a><span class="fu">str</span>(dec_lakes_sp, <span class="at">max.level =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font size="5"></font></p><font size="5">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Formal class 'SpatialPolygonsDataFrame' [package "sp"] with 5 slots
  ..@ data       :'data.frame': 14 obs. of  5 variables:
  ..@ polygons   :List of 14
  ..@ plotOrder  : int [1:14] 1 11 7 13 2 8 3 12 10 5 ...
  ..@ bbox       : num [1:2, 1:2] -120.7 39.6 -119.4 40.6
  .. ..- attr(*, "dimnames")=List of 2
  ..@ proj4string:Formal class 'CRS' [package "sp"] with 1 slot
  ..$ comment: chr "TRUE"</code></pre>
</div>
</div>
</font><p><font size="5"></font></p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb76" data-code-line-numbers="4,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href=""></a>sN <span class="ot">&lt;-</span> <span class="fu">slotNames</span>(dec_lakes_sp)</span>
<span id="cb76-2"><a href=""></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(sN)){</span>
<span id="cb76-3"><a href=""></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(sN[i], <span class="st">': '</span>, </span>
<span id="cb76-4"><a href=""></a>               <span class="fu">otype</span>(<span class="fu">slot</span>(dec_lakes_sp, sN[i])</span>
<span id="cb76-5"><a href=""></a>                     )))</span>
<span id="cb76-6"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data: S3"
[1] "polygons: base"
[1] "plotOrder: base"
[1] "bbox: base"
[1] "proj4string: S4"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78" data-code-line-numbers="4,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href=""></a><span class="fu">otype</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'polygons'</span>)[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S4"</code></pre>
</div>
</div>
</div></div>
<aside class="notes">
<p>In addition to their more strict definitions of classes, S4 objects have another feature which S3 objects lack - Slots. Slots superficially resemble lists in the viewer of RStudio, i.e.&nbsp;they have nested components, but are really their own distinct entities. A SpatialPolygonsDataFrame contains 4 slots, each of these contains a type of data. Note that each slot is accessed using an ‘@’ (still pronounced: ‘at’) symbol.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dataframe-slot" class="slide level2">
<h2>DataFrame Slot</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href=""></a><span class="fu">head</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'data'</span>))[,<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font size="6"></font></p><font size="6">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>           Water Data_source       Date
1   Pyramid_Lake   Sentinel2 2021-12-05
2     Davis_Lake   Sentinel2 2021-12-05
3 Frenchman_Lake   Sentinel2 2021-12-05
4    Silver_Lake   Sentinel2 2021-12-05
5      Swan_lake   Sentinel2 2021-12-05
6      Gold_Lake   Sentinel2 2021-12-05</code></pre>
</div>
</div>
</font><p><font size="6"></font></p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href=""></a><span class="fu">attributes</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'data'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$names
[1] "id"          "Water"       "Data_source" "Processing"  "Date"       

$class
[1] "data.frame"

$row.names
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href=""></a><span class="fu">otype</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'data'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S3"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href=""></a><span class="fu">writeLines</span>(<span class="fu">s3_class</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'data'</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>data.frame</code></pre>
</div>
</div>
</div></div>
<aside class="notes">
<p>Here we access the contents of a slot named ‘plotOrder’. We see that this slot simply contains an integer vector. What this vector specifies is the order in which the polygons in this object should be plotted if and when used for making maps. While this information is stored simply as an object of the class ‘base’, other parts of the SpatialPolygonsDataFrame know how to perform operations with this information.</p>
<p>We can see that the ‘DataFrame’ portion of the SpatialPolygonsDataFrame has actually been relegated to it’s own slot as well.</p>
<p>While the two slots above, <span class="citation" data-cites="plotOrder">@plotOrder</span> &amp; <span class="citation" data-cites="data">@data</span>, contain relatively simple objects (base and S3 respectively). The remaining two slots, which are both S4 classes contain all of the spatial information.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="proj-slot" class="slide level2">
<h2>Proj Slot</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href=""></a><span class="fu">s3_class</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'proj4string'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CRS"
attr(,"package")
[1] "sp"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href=""></a><span class="fu">otype</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'proj4string'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S4"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href=""></a><span class="fu">attributes</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'proj4string'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$projargs
[1] "+proj=longlat +datum=WGS84 +no_defs"

$class
[1] "CRS"
attr(,"package")
[1] "sp"

$comment
[1] "GEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]"</code></pre>
</div>
</div>
</div></div>
<aside class="notes">
<p>The first of the S4 slots is the proj4string (Proj is an awesome open source library for performing conversions between projections), which contains a class “CRS” which defines the Coordinate Reference System of this SpatialPolygonsDataFrame. Hence any time you modify the CRS of a SPDF, you are interacting with this slot.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="polygons-slot" class="slide level2">
<h2>Polygons Slot</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href=""></a><span class="fu">otype</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'polygons'</span>)[[<span class="dv">9</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S4"</code></pre>
</div>
</div>
<p>Contains the actual spatial data, e.g.&nbsp;coordinates and their relations</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href=""></a><span class="fu">attributes</span>(<span class="fu">slot</span>(dec_lakes_sp, <span class="st">'polygons'</span>)[[<span class="dv">9</span>]]) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Polygons
$Polygons[[1]]
An object of class "Polygon"
Slot "labpt":
[1] -120.26621   40.15194

Slot "area":
[1] 0.0002266631

Slot "hole":
[1] FALSE

Slot "ringDir":
[1] 1

Slot "coords":
          [,1]     [,2]
[1,] -120.2684 40.16119
[2,] -120.2577 40.16024
[3,] -120.2604 40.14826
[4,] -120.2657 40.14006
[5,] -120.2657 40.14006
[6,] -120.2758 40.14942
[7,] -120.2684 40.16119



$plotOrder
[1] 1

$labpt
[1] -120.26621   40.15194

$ID
[1] "9"

$area
[1] 0.0002266631

$class
[1] "Polygons"
attr(,"package")
[1] "sp"

$comment
[1] "0"</code></pre>
</div>
</div>
</div></div>
<aside class="notes">
<p>The final, and most complex of the two S4 slots in a SpatialPolygonsDataFrame is the Polygons slot. This is where the coordinates, and topological information, of each polygon is stored.</p>
<p>Here we are looking at the smallest of the polygons in our SPDF (see the plotOrder?). These data are replicated appropriately for each of the other polygons in this object.</p>
<p>While this S3 object is more complex, we can see how the components held in multiple slots are able to work together to perform operations using the data held in disparate fields throughout the object.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="raster-objects" class="slide level2">
<h2>Raster Objects</h2>
<p>Finally we have the Raster Layer which is a rather large and complex S4 unit, composed of 12 main S4 slots… Each of these then having from 1 to 13 slots (these second slots quite small, and not uncommonly consisting of a single value).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href=""></a><span class="fu">slotNames</span>(example_raster_dec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "file"     "data"     "legend"   "title"    "extent"   "rotated" 
 [7] "rotation" "ncols"    "nrows"    "crs"      "srs"      "history" 
[13] "z"       </code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Class: S4</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Class type: RasterLayer</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>.SingleLayerData</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>integer
numeric</code></pre>
</div>
</div>
<aside class="notes">
<p>Raster Layers are large enough that we unfortunately cannot go into it much during class, but I do encourage the curious to investigate it on your own. Do keep in mind that it has a slot of ‘CRS’ which we just saw in our SP object, and it also has a slot of ‘extent’ which we defined ourselves earlier.</p>
<p>If we look at our data slot we see that we have an ‘integer numeric’ type - which is typically how a raster is loaded. I will concede up to this point I said to think about a raster as matrix, but we see ours is actually loaded with an integer. Remember that in R both matrices and data frames are vectors. Remember a main difference between a vector and a matrix, is that a matrix has dimensions, i.e.&nbsp;it knows how many values need to be in each row. While these data are not explicit here, they can be found in another slot.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="make-our-own-s3-and-s4-objects." class="title-slide slide level1 center">
<h1>Make our own S3 and S4 objects.</h1>
<p>So we approached S3 and S4 objects from a very top down approach there, we looked at those constructed by others. But we can also create our own objects, so we can look at these from the bottom up.</p>
</section>
<section id="create-a-simple-s3-object" class="slide level2">
<h2>Create a simple S3 object</h2>
<p>Creating an S3 object is as simple as defining a class with <code>class</code></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href=""></a>course <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb104-2"><a href=""></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Lecture"</span>, <span class="st">"Lecture"</span>, <span class="st">"Laboratory"</span>, <span class="st">"Laboratory"</span>),</span>
<span id="cb104-3"><a href=""></a>  <span class="at">wing =</span> <span class="fu">c</span>(<span class="st">'L'</span>, <span class="st">'L'</span>,<span class="st">'M'</span>,<span class="st">'L'</span>),</span>
<span id="cb104-4"><a href=""></a>  <span class="at">room =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">170</span>, <span class="dv">166</span>, <span class="dv">62</span>),</span>
<span id="cb104-5"><a href=""></a>  <span class="at">day  =</span> <span class="fu">c</span>(<span class="st">'T'</span>, <span class="st">'TH'</span>, <span class="st">'F'</span>, <span class="st">'F'</span>),</span>
<span id="cb104-6"><a href=""></a>  <span class="at">time =</span> <span class="fu">c</span>(<span class="st">'3:30-4:50'</span>, <span class="st">'3:30-4:50'</span>, <span class="st">'12:00-12:50'</span>, <span class="st">'2:00-3:50'</span>)</span>
<span id="cb104-7"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href=""></a><span class="co"># we have only made a list so far </span></span>
<span id="cb105-2"><a href=""></a><span class="fu">s3_class</span>(course) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href=""></a><span class="fu">otype</span>(course)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "base"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href=""></a><span class="fu">class</span>(course) <span class="ot">&lt;-</span> <span class="st">"Class_times"</span> </span>
<span id="cb109-2"><a href=""></a><span class="co"># by setting a class attribute we have </span></span>
<span id="cb109-3"><a href=""></a><span class="co"># created an S3 object</span></span>
<span id="cb109-4"><a href=""></a></span>
<span id="cb109-5"><a href=""></a><span class="fu">s3_class</span>(course)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Class_times"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href=""></a><span class="fu">otype</span>(course)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S3"</code></pre>
</div>
</div>
</div></div>
<aside class="notes">
<p>Maybe some of you have not noticed yet but you will soon enough; your TA has some traits in common with say Luna Lovegood, and finds it hard to make it to meetings and things. Here we makes a course object which he can save into his R environment so he can just click on it to remind him when he is suppose to show up for class.</p>
<p>We see that the above object is honestly, just a list that we arbitrarily made an S3 object. That is more or less what it takes to become an S3 object, us just saying hey ‘this is a class’ !</p>
<p>But we can do things with S3 objects which make them useful to construct. For example, we can add quality assurance checks to our objects.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="create-a-more-complex-s3-object" class="slide level2">
<h2>Create a more complex S3 object</h2>
<p>A more complex S3 object can have some unstructured error checking in it.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href=""></a>course <span class="ot">&lt;-</span> <span class="cf">function</span>(n, w, r, d, t){</span>
<span id="cb113-2"><a href=""></a>  </span>
<span id="cb113-3"><a href=""></a>  values <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb113-4"><a href=""></a>    <span class="at">name =</span> n, </span>
<span id="cb113-5"><a href=""></a>    <span class="at">wing =</span> w, </span>
<span id="cb113-6"><a href=""></a>    <span class="at">room =</span> r, </span>
<span id="cb113-7"><a href=""></a>    <span class="at">day =</span> d, </span>
<span id="cb113-8"><a href=""></a>    <span class="at">time =</span> t)</span>
<span id="cb113-9"><a href=""></a>    </span>
<span id="cb113-10"><a href=""></a>  <span class="st">'%notin%'</span> <span class="ot">&lt;-</span> <span class="fu">Negate</span>(<span class="st">'%in%'</span>)</span>
<span id="cb113-11"><a href=""></a>  type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Lecture'</span>, <span class="st">'Laboratory'</span>, <span class="st">'Seminar'</span>)</span>
<span id="cb113-12"><a href=""></a>  tech_letters <span class="ot">&lt;-</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>]</span>
<span id="cb113-13"><a href=""></a>  days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'M'</span>, <span class="st">'T'</span>, <span class="st">'W'</span>, <span class="st">'TH'</span>, <span class="st">'F'</span>, <span class="st">'S'</span>, <span class="st">'SU'</span>)</span>
<span id="cb113-14"><a href=""></a>  </span>
<span id="cb113-15"><a href=""></a>  <span class="cf">if</span>(<span class="fu">any</span>(w <span class="sc">%notin%</span> tech_letters)) </span>
<span id="cb113-16"><a href=""></a>    <span class="fu">stop</span>(<span class="st">"This wing is not valid"</span>)</span>
<span id="cb113-17"><a href=""></a>  <span class="cf">if</span>(<span class="fu">any</span>(d <span class="sc">%notin%</span> days)) </span>
<span id="cb113-18"><a href=""></a>    <span class="fu">stop</span>(<span class="st">"This day is not valid"</span>)</span>
<span id="cb113-19"><a href=""></a>  <span class="cf">if</span>(<span class="fu">any</span>(n <span class="sc">%notin%</span> type)) </span>
<span id="cb113-20"><a href=""></a>    <span class="fu">stop</span>(<span class="st">"This course type is not valid"</span>)</span>
<span id="cb113-21"><a href=""></a>  </span>
<span id="cb113-22"><a href=""></a>  <span class="fu">attr</span>(values, <span class="st">"class"</span>) <span class="ot">&lt;-</span> <span class="st">"Course"</span></span>
<span id="cb113-23"><a href=""></a>  <span class="fu">return</span>(values)</span>
<span id="cb113-24"><a href=""></a>  </span>
<span id="cb113-25"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href=""></a>course_success <span class="ot">&lt;-</span> <span class="fu">course</span>(</span>
<span id="cb114-2"><a href=""></a>  <span class="fu">c</span>(<span class="st">"Lecture"</span>, <span class="st">"Lecture"</span>, <span class="st">"Laboratory"</span>, <span class="st">"Laboratory"</span>),  </span>
<span id="cb114-3"><a href=""></a>  <span class="fu">c</span>(<span class="st">'L'</span>, <span class="st">'L'</span>,<span class="st">'M'</span>,<span class="st">'L'</span>),</span>
<span id="cb114-4"><a href=""></a>  <span class="fu">c</span>(<span class="dv">170</span>,<span class="dv">170</span>,<span class="dv">166</span>,<span class="dv">62</span>), </span>
<span id="cb114-5"><a href=""></a>  <span class="fu">c</span>(<span class="st">'T'</span>,<span class="st">'TH'</span>,<span class="st">'F'</span>,<span class="st">'F'</span>), </span>
<span id="cb114-6"><a href=""></a>  <span class="fu">c</span>(<span class="st">'3:30-4:50'</span>,<span class="st">'3:30-4:50'</span>, <span class="st">'12:00-12:50'</span>, <span class="st">'2:00-3:50'</span>)</span>
<span id="cb114-7"><a href=""></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
<aside class="notes">
<p>Your TA made a very poor first list of places he had to be for class, and ended up wandering around tech lost for an hour. He decided to make a slightly more robust Sw object so this did not happen again.</p>
<p>Here we see that an object of the S3 class can be much more than merely a collection of attributes. An S3 object can perform quality assurance steps to ensure the data comply to certain types, and that values are in appropriate units etc.</p>
<p>If the data are these thoroughly defined, we then see this opens the opportunity for an S3 object to act upon other parts of itself. While in the example above we put in values which match the acceptable criteria of the class we have defined, in the example below will violate the standards of our S3 Object.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="s3-failure" class="slide level2">
<h2>S3 failure</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href=""></a>course_fail <span class="ot">&lt;-</span> <span class="fu">course</span>(</span>
<span id="cb115-2"><a href=""></a>  <span class="st">"Lecture"</span>,  </span>
<span id="cb115-3"><a href=""></a>  <span class="st">'Z'</span>, <span class="co"># THIS IS NOT DEFINED</span></span>
<span id="cb115-4"><a href=""></a>  <span class="dv">213</span>, </span>
<span id="cb115-5"><a href=""></a>  <span class="st">'TH'</span>, </span>
<span id="cb115-6"><a href=""></a>  <span class="st">'2:00-3:50'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href=""></a>Error <span class="cf">in</span> <span class="fu">course</span>(<span class="st">"Lecture"</span>, <span class="st">"Z"</span>, <span class="dv">213</span>, <span class="st">"TH"</span>, <span class="st">"2:00-3:50"</span>) <span class="sc">:</span> </span>
<span id="cb116-2"><a href=""></a>This wing is not valid<span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>We tried to populate our <code>course</code> S3 object with a <code>wing</code> which does not exist</li>
<li>R prevented this action, and errored out our entry</li>
</ul>
</div></div>
<aside class="notes">
<p>In the above example, if you input the wrong Wing in Tech, or the wrong day of week abbreviation, this class will angrily let you know and refuse to take your input. I assume this error can be relegated to a warning - but we will not get into those aspects of coding in this class.</p>
<p>One, possible, draw back of an s3 object is that it is relatively lax.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="create-a-simple-s4-object-i" class="slide level2">
<h2>Create a simple S4 object I</h2>
<p>An S4 object can be similar to S3, except we specify that we are using <code>slots</code></p>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href=""></a><span class="fu">setClass</span>(<span class="st">"Office_Hours"</span>, </span>
<span id="cb117-2"><a href=""></a>         <span class="at">slots=</span></span>
<span id="cb117-3"><a href=""></a>           <span class="fu">list</span>(</span>
<span id="cb117-4"><a href=""></a>            <span class="at">Instructor=</span><span class="st">"character"</span>,</span>
<span id="cb117-5"><a href=""></a>            <span class="at">Wing=</span><span class="st">"character"</span>,</span>
<span id="cb117-6"><a href=""></a>            <span class="at">Number=</span><span class="st">"numeric"</span>,</span>
<span id="cb117-7"><a href=""></a>            <span class="at">Days=</span><span class="st">"character"</span>,</span>
<span id="cb117-8"><a href=""></a>            <span class="at">Time=</span><span class="st">"numeric"</span>,</span>
<span id="cb117-9"><a href=""></a>            <span class="at">Smartroom=</span><span class="st">"logical"</span>,</span>
<span id="cb117-10"><a href=""></a>            <span class="at">Windows=</span><span class="st">"logical"</span></span>
<span id="cb117-11"><a href=""></a>            )</span>
<span id="cb117-12"><a href=""></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:40%;">
<ul>
<li>Seven slot object, each slot with a specified data type<br>
</li>
<li>Will only check that input to each slot matches the data type<br>
</li>
</ul>
</div></div>
<aside class="notes">
<p>The s4 object is not lax. Here we define the data type which each of these slots will accept. If the value you try to put in does not match, the object will not be created.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="create-a-simple-s4-object-ii" class="slide level2">
<h2>Create a simple S4 object II</h2>
<p>We can populate our S4 object like this, notice that now we define the slots the values go into.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href=""></a>s4_ob_office_hours <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">"Office_Hours"</span>, </span>
<span id="cb118-2"><a href=""></a>  <span class="at">Instructor =</span> <span class="fu">c</span>(<span class="st">'Benkendorf'</span>,<span class="st">'Scholl'</span>,<span class="st">'Benkendorf'</span>,<span class="st">'Scholl'</span>),</span>
<span id="cb118-3"><a href=""></a>  <span class="at">Wing =</span> <span class="fu">c</span>(<span class="st">'F'</span>, <span class="st">'F'</span>, <span class="st">'G'</span>, <span class="st">'B'</span>),</span>
<span id="cb118-4"><a href=""></a>  <span class="at">Number =</span> <span class="fu">c</span>(<span class="dv">380</span>, <span class="dv">380</span>, <span class="dv">278</span>, <span class="dv">138</span>),</span>
<span id="cb118-5"><a href=""></a>  <span class="at">Days =</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"W"</span>, <span class="st">'T'</span>, <span class="st">'F'</span>),</span>
<span id="cb118-6"><a href=""></a>  <span class="at">Time =</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">11</span>, <span class="dv">9</span>, <span class="dv">3</span>),</span>
<span id="cb118-7"><a href=""></a>  <span class="at">Smartroom =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, F, T, F),</span>
<span id="cb118-8"><a href=""></a>  <span class="at">Windows =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, T, T, F)</span>
<span id="cb118-9"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>In it’s simplest form an s4 object may be constructed via the <code>setClass</code> function. While this object is able to regulate the data types which are entered to each column, it cannot do much more.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="create-a-more-complex-s4-object-i" class="slide level2">
<h2>Create a more complex S4 object I</h2>
<p>Validity functions ensure that not only are our data the correct type, they even match a pre-specified value.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href=""></a>office_hrs <span class="ot">&lt;-</span> <span class="fu">setClass</span>(<span class="st">"Office_Hours"</span>, </span>
<span id="cb119-2"><a href=""></a>         </span>
<span id="cb119-3"><a href=""></a>         <span class="at">slots=</span><span class="fu">c</span>(</span>
<span id="cb119-4"><a href=""></a>           <span class="at">Instructor=</span><span class="st">"character"</span>,</span>
<span id="cb119-5"><a href=""></a>           <span class="at">Wing=</span><span class="st">"character"</span>,</span>
<span id="cb119-6"><a href=""></a>           <span class="at">Number=</span><span class="st">"numeric"</span>,</span>
<span id="cb119-7"><a href=""></a>           <span class="at">Days=</span><span class="st">"character"</span>,</span>
<span id="cb119-8"><a href=""></a>           <span class="at">Time=</span><span class="st">"numeric"</span>,</span>
<span id="cb119-9"><a href=""></a>           <span class="at">Smartroom=</span><span class="st">"logical"</span>,</span>
<span id="cb119-10"><a href=""></a>           <span class="at">Windows=</span><span class="st">"logical"</span></span>
<span id="cb119-11"><a href=""></a>           ),</span>
<span id="cb119-12"><a href=""></a>         </span>
<span id="cb119-13"><a href=""></a>        <span class="at">validity=</span><span class="cf">function</span>(object){</span>
<span id="cb119-14"><a href=""></a>          </span>
<span id="cb119-15"><a href=""></a>            <span class="st">'%notin%'</span> <span class="ot">&lt;-</span> <span class="fu">Negate</span>(<span class="st">'%in%'</span>)</span>
<span id="cb119-16"><a href=""></a>            tech_letters <span class="ot">&lt;-</span> LETTERS[<span class="dv">14</span><span class="sc">:</span><span class="dv">26</span>]</span>
<span id="cb119-17"><a href=""></a>            days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'M'</span>, <span class="st">'T'</span>, <span class="st">'W'</span>, <span class="st">'TH'</span>, <span class="st">'F'</span>, <span class="st">'S'</span>, <span class="st">'SU'</span>)</span>
<span id="cb119-18"><a href=""></a>            instructors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Scholl'</span>, <span class="st">'Benkendorf'</span>)</span>
<span id="cb119-19"><a href=""></a>                </span>
<span id="cb119-20"><a href=""></a>            <span class="cf">if</span>(<span class="fu">any</span>(object<span class="sc">@</span>Instructor <span class="sc">!=</span> instructors))</span>
<span id="cb119-21"><a href=""></a>              <span class="fu">stop</span>(<span class="st">"This Instructor is not valid"</span>)</span>
<span id="cb119-22"><a href=""></a>            <span class="cf">if</span>(<span class="fu">any</span>(object<span class="sc">@</span>Wing <span class="sc">%in%</span> tech_letters))</span>
<span id="cb119-23"><a href=""></a>              <span class="fu">stop</span>(<span class="st">"This Wing is not valid"</span>)</span>
<span id="cb119-24"><a href=""></a>            <span class="cf">if</span>(<span class="fu">any</span>(object<span class="sc">@</span>Days <span class="sc">%notin%</span> days)) </span>
<span id="cb119-25"><a href=""></a>              <span class="fu">stop</span>(<span class="st">"This Day is not valid"</span>)</span>
<span id="cb119-26"><a href=""></a>  }</span>
<span id="cb119-27"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:40%;">
<p><font size="5"> - Mandates the appropriate data type is entered<br>
- Checks that the ‘Wing’ we enter exists in the Tech Building<br>
- Ensures that a valid Instructor and day abbreviation is entered<br>
- Object clearly capable of performing procedures on itself.<br>
</font></p>
</div></div>
</section>
<section id="populate-a-more-complex-s4-object-ii" class="slide level2">
<h2>Populate a more complex S4 object II</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href=""></a>s4_ob_office_hours <span class="ot">&lt;-</span> <span class="fu">office_hrs</span>( </span>
<span id="cb120-2"><a href=""></a>  <span class="at">Instructor =</span> <span class="fu">c</span>(<span class="st">'Scholl'</span>, <span class="st">'Benkendorf'</span>, <span class="st">'Scholl'</span>, <span class="st">'Benkendorf'</span>),</span>
<span id="cb120-3"><a href=""></a>  <span class="at">Wing =</span> <span class="fu">c</span>(<span class="st">'A'</span>, <span class="st">'F'</span>, <span class="st">'B'</span>, <span class="st">'B'</span>),</span>
<span id="cb120-4"><a href=""></a>  <span class="at">Number =</span> <span class="fu">c</span>(<span class="dv">123</span>, <span class="dv">412</span>, <span class="dv">278</span>, <span class="dv">138</span>),</span>
<span id="cb120-5"><a href=""></a>  <span class="at">Days =</span> <span class="fu">c</span>(<span class="st">"M"</span>, <span class="st">"W"</span>, <span class="st">'T'</span>, <span class="st">'F'</span>),</span>
<span id="cb120-6"><a href=""></a>  <span class="at">Time =</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">11</span>, <span class="dv">9</span>, <span class="dv">3</span>),</span>
<span id="cb120-7"><a href=""></a>  <span class="at">Smartroom =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, F, T, F),</span>
<span id="cb120-8"><a href=""></a>  <span class="at">Windows =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, T, T, F)</span>
<span id="cb120-9"><a href=""></a>)</span>
<span id="cb120-10"><a href=""></a></span>
<span id="cb120-11"><a href=""></a><span class="fu">otype</span>(s4_ob_office_hours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "S4"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href=""></a><span class="fu">s3_class</span>(s4_ob_office_hours)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Office_Hours"
attr(,"package")
[1] ".GlobalEnv"</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<p><font size="5"> - S3/S4 objects can have a lot going on ‘under the hood’ - At their heart, they are performing operations on themselves. </font></p>
</div></div>
<aside class="notes">
<p>You will realize in short time, that the biggest hurdle to dealing with spatial data in R is how complex some of the structures may be. But I guarantee you all have seen more of the intricate workings of these objects than the vast majority of folks which utilize them. Just remember, to appease the validity functions and you will be fine.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="works-cited" class="title-slide slide level1 center">
<h1>Works Cited</h1>
<p><font size="6"> <a href="https://adv-r.hadley.nz/index.html">Advanced R</a> Accessed 01.09.2022</font></p><font size="6">
<p><a href="https://geocompr.robinlovelace.net/spatial-class.html">Geomcomputation with R</a> Accessed 01.09.2022</p>
<p><a href="https://github.com/rspatial/raster">Raster</a> Accessed 05.12.2019</p>
<p><a href="https://www.datamentor.io/r-programming/s3-class/">Data Mentor</a> Accessed 01.18.2022</p>
<p><a href="https://rspatial.org/raster/RasterPackage.pdf">R Spatial</a> Accessed 01.09.2022</p>
<p>Pebesma, E.J., R.S. Bivand, 2005. Classes and methods for spatial data in R. R News 5 (2).</p>
<p><a href="https://r-spatial.github.io/sf/articles/sf1.html">sf</a> Accessed 01.10.2022</p>
<p><a href="https://cran.r-project.org/web/packages/vctrs/vignettes/s3-vector.html">vctrs</a> Accessed 01.14.2022</p>
<p><a href="https://en.wikipedia.org/wiki/Object-oriented_programming">Object Oriented Programming Wikipedia</a> Accessed 01.19.2022<br>
<font></font></p><font>

</font></font></section><font size="6"><font>
    </font></font></div><font size="6"><font>
  </font></font><div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../pictures/CBG_Logos/NegauneeInstitute_CBG-Logo-FlowerMark.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div><font size="6"><font>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="ObjectOrientedProgramming_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"boardmarkerWidth":5},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</font></font></body></html>